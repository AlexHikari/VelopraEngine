# Core/CMakeLists.txt
cmake_minimum_required(VERSION 3.8)
project(VelopraCore)

# Specify the C++ standard
set(CMAKE_CXX_STANDARD 20)
set(CMAKE_CXX_STANDARD_REQUIRED True)

# Find the spdlog package

# Automatically add all files in the specified directory to a target
file(GLOB_RECURSE CORE_SOURCE_FILES "${CMAKE_CURRENT_SOURCE_DIR}/src/*.cpp")
file(GLOB_RECURSE CORE_HEADER_FILES "${CMAKE_CURRENT_SOURCE_DIR}/include/*.h")

# Add library target for the Core module with the collected source files
find_package(spdlog REQUIRED)
add_library(VelopraCore ${CORE_SOURCE_FILES} ${CORE_HEADER_FILES})
target_link_libraries(VelopraCore PUBLIC spdlog::spdlog)
target_include_directories(VelopraCore PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/include)

get_target_property(CORE_LINK_LIBRARIES VelopraCore LINK_LIBRARIES)
message(STATUS "Core link libraries: ${CORE_LINK_LIBRARIES}")
